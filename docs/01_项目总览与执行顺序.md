# 项目总览与执行顺序（API 演示版）

形态：**后端 API 服务为主**，提供完整的 RESTful API 接口用于演示核心功能。前端暂不开发移动端应用，使用 **Postman/Swagger UI/简单 Web 页面**进行功能演示和测试。

## 目标
- PDF/教材解析为结构化知识块；
- 基于年级与兴趣进行个性化重写（阅读等级控制、兴趣替换）；
- 生成多种学习素材：沉浸式文本、章节测验、思维导图；
- 提供完整的 API 接口供演示和测试。

## 架构概览
- **服务端（核心）**：
  - 解析：PDF → 结构化文本块
  - 个性化：基于用户画像改写内容
  - 生成：沉浸式文本、测验题、思维导图
  - 检索：向量化存储与语义搜索
  - 异步队列：Celery 处理耗时任务
- **演示方式**：
  - Swagger UI（FastAPI 自动生成）
  - Postman Collection（API 测试集合）
  - 可选：简单的静态 HTML 页面演示核心流程

## 执行顺序（里程碑）
1. 环境与项目初始化（Python + FastAPI + Celery）
2. 数据摄取与 PDF 解析（含向量化存储）
3. 个性化与阅读等级调整（提示词+评测）
4. 学习素材生成（沉浸式/测验/导图）
5. API 设计与文档（OpenAPI/Swagger）
6. 测试与质量保障（单元/集成/契约测试）
7. 部署演示环境（Docker + Cloud 部署）

## 测试策略
- **服务端测试**（重点）：
  - 单元测试：核心业务逻辑
  - 集成测试：API 端到端流程
  - 契约测试：API 规范一致性
  - 性能测试：并发与响应时间
- **API 演示**：
  - Postman/cURL 脚本覆盖主要流程
  - Swagger UI 交互式文档
  - 可选：简单 Web 演示页面

## 模型使用策略（已确定）
- 仅使用托管大模型 API，不做本地训练/部署；
- 支持多家 Provider 可切换（OpenAI/Anthropic/Gemini/国内可替代），由环境变量控制；
- 通过提示词工程 + 结构化输出 + 自动化评测保证质量；
- 当且仅当累计足够高质量样本并明确有降本/延迟收益时，才评估微调。
